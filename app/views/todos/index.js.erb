var active_status = <%= params.key?(:active_status) %>;
if (active_status){
  $(".search_todos").val('');

}

if($('.todos').children().length == 1){
  $(".todos").html(`<% if @todos.empty? %><div class = "todo">
    Nothing to show</div><% else %>
      <% @todos.each do |todo| %><%= render 'todo', todo: todo %>
      <% end %><% end %>`);
}else{
  $(".todos").append(`<% if @todos.empty? %><div class = "todo">
    Nothing to show</div><% else %>
      <% @todos.each do |todo| %><%= render 'todo', todo: todo %>
      <% end %><% end %>`);
}
$(".digg_pagination").html(`<%= will_paginate @todos, page_links: false %>`);

$('.pagination a').attr('data-remote', 'true');

var empty = <%= @todos.empty? %>
if (empty){
  status1 = status2 = false;
}
else{
  var status1 = <%= (@todos.to_a == Todo.active_only.where(user_id: current_user.id).to_a) || @todos.all? { |todo| todo.active == true } %> ;
  var status2 = <%= @todos.to_a == Todo.inactive_only.where(user_id: current_user.id).to_a || @todos.all? { |todo| todo.active == false } %> ;
};
$("#active_status_active_only").prop("checked", status1);
$("#active_status_inactive_only").prop("checked", status2);

arrow_correction();

if ($(".search_todos").val()) {
  ($('.up').parent()).hide();
  ($('.down').parent()).hide();
};
