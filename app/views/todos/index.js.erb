var mode = <%= params.key?(:active_status) %>;
if (mode){
  $(".search_todos").val('');
};

$(".todos").html(`<% if @todos.empty? %><div class = "todo">
      <p>Nothing to show </p></div><% else %>
      <% @todos.each do |todo| %><%= render 'todo', todo: todo %>
      <% end %><% end %>`);

var empty = <%= @todos.empty? %>
if (empty){
  status1 = status2 = false;
}
else{
  var status1 = <%= (@todos.to_a == Todo.active_only.where(user_id: current_user.id).to_a) || @todos.all? { |todo| todo.active == true } %> ;
  var status2 = <%= @todos.to_a == Todo.inactive_only.where(user_id: current_user.id).to_a || @todos.all? { |todo| todo.active == false } %> ;
};
$("#active_status_active_only").prop("checked", status1);
$("#active_status_inactive_only").prop("checked", status2);

arrow_correction();

if ($(".search_todos").val()) {
  ($('.up').parent()).addClass( "invisible" );
  ($('.down').parent()).addClass( "invisible" );
};
