
  <%= render 'search' %>

</div>

  <%= render 'entry' %>

  <div class = "active-change">
    <%= radio_button_tag :active_status, 'active_only', true, data: {url: url_for(action: :active_status), :remote => true, method: :post } %>
      <label for="active_status_active_only">Active</label>
    <%= radio_button_tag :active_status, 'inactive_only', false, data: {url: url_for(action: :active_status), :remote => true, method: :post }%>
      <label for="active_status_inactive_only">Inactive</label>
  </div>

  <div class = "todos">
    <%= render 'todos' %>
  </div>

  <script>

    $('.up').first().addClass( "invisible" );
    $('.down').last().addClass( "invisible" );

    $("body").on('DOMSubtreeModified', ".todos", function() {
      $('.up').first().addClass( "invisible" );
      $('.down').last().addClass( "invisible" );
    });

    $(".todo-entry").keydown(function() {
      if (event.which == 13) {
        $.ajax({
          type: 'POST',
            url: '/todos/',
            data: {create: $(this).val()}
        });
      };
      if (event.which == 27) {
        $(".todo-entry").val('');
      };
    });


  </script>
